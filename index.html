<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>

    body{
      margin: 0;
    }
    svg {
      background-color: #000006;
    }
    .municipality {
        fill: #636363;
        stroke: #f0f0f0;
    }
    .municipality:hover {
        fill: orange;
    }
  </style>
</head>
<body>

  <svg id="map-svg" xmlns="http://www.w3.org/2000/svg" version="1.1"></svg>

  <script src="http://d3js.org/d3.v3.min.js"></script>
  <script src="http://d3js.org/topojson.v0.min.js"></script>
  <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
  <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>

  <script>

    var view = function() {
        var w = window, d = document.documentElement, b = document.getElementsByTagName("body")[0];
        var x = w.innerWidth || d.clientWidth || b.clientWidth;
        var y = w.innerHeight || d.clientHeight || b.clientHeight;
        return {width: x, height: y};
    }();

    var MAP_SVG_ID = "#map-svg";


    var svg= d3.select(MAP_SVG_ID).attr("width", view.width).attr("height", view.height);
    
    var proj = d3.geo.mercator()
      .center([126.980, 37.565])
      .scale(10500)
      .translate([view.width/2, view.height/2]);

    var path = d3.geo.path().projection(proj);

    
    d3.json("seoul-topo.json", function(error, kor) {
      var municipalities = topojson.object(kor, kor.objects['skorea-municipalities-geo']);

      svg.selectAll('path').data(municipalities.geometries)
        .enter().append('path')
        .attr('d', path)
        .attr('class', 'municipality');

      // svg.selectAll("text")
      //   .data(municipalities.geometries)
      // .enter().append("text")
      //   .attr("transform", function(d) { return "translate(" + path.centroid(d) + ")"; })
      //   .attr("dy", ".35em")
      //   .text(function(d) { return d.properties.ID_1; });
    });
  </script>
</body>
</html>